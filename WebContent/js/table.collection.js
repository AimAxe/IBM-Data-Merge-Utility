/*
 * Editor client script for DB table replace
 * Automatically generated by http://editor.datatables.net/generator
 */

(function($){
	var collectionEditor;
	
	$(document).ready(function() {
		var collectionEditor = new $.fn.dataTable.Editor( {
			ajax: "php/table.collection.php",
			table: "#collection",
			fields: [
				{
					label: "Name",
					name: "name"
				},
				{
					label: "Table Name",
					name: "tableName"
				},
				{
					label: "Column Name",
					name: "columnName"
				},
				{
					label: "Sample Value",
					name: "sampleValue"
				}
			]
		} );
	
	    // Activate an inline edit on click of a table cell
	    $('#collection').on( 'click', 'tbody td:not(:first-child)', function (e) {
	    	collectionEditor.inline( this );
	    } );

	    $('#collection').dataTable( {
			searching: false,
			paging: false,
			info: false,
			dom: "Tfrtip",
			ajax: "php/table.collection.php", 
			columns: [
	            { data: null, defaultContent: '', orderable: false  },
				{ data: "name" 			},
				{ data: "tableName" 	},
				{ data: "columnName" 	},
				{ data: "sampleValue" 	}
			],
	        order: [ 1, 'asc' ],
			tableTools: {
				sRowSelect: "os",
	            sRowSelector: 'td:first-child',
				aButtons: [
					{ sExtends: "editor_create", editor: collectionEditor },
					{ sExtends: "editor_remove", editor: collectionEditor }
				]
			},
		} );
	} );
}(jQuery));

